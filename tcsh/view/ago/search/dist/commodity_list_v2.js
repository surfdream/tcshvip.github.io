define(function(require,exports,module){var f=require("domains");var b=require("jquery"),d=require("lib"),a=require("wmlazyload");require("top_data")();var e=function(){var g=b("#page"),h=b("body");a.init();c();switch(d.queryString("q")){case"旋转":h.addClass("body_rotation");break;case"抖动":h.addClass("body_shake");break}};var c=function(){var h=b("#page"),g=b("body")[0],i=h.find(".fixed_box"),j=b(window);h.on("focus",".txt_search",function(){var k=b(this);k.closest(".crumb_search").css({"background-position":"0 -30px"})});h.on("blur",".txt_search",function(){var k=b(this);k.closest(".crumb_search").css({"background-position":"0 0"})});h.on("change",".txt_search",function(){var l=b(this),k=l.val();h.find(".txt_search").val(k)});h.on("click",".more_btn",function(){var l=b(this),k=l.closest(".condition_list");if(k.hasClass("show_all")){k.removeClass("show_all");l.find(".wm_ico").attr("class","wm_ico arrow17up");l.find(".ui_btn_txt span").empty().append("更多")}else{k.addClass("show_all");l.find(".wm_ico").attr("class","wm_ico arrow17down");l.find(".ui_btn_txt span").empty().append("收起")}return false});h.on("click",".to_shop",function(){var l=b(this),k=l.closest("form");if(b.trim(k.find(".search_txt").val())){k.attr("action",l.attr("href"));k.submit()}return false});h.on("click",".to_commodity",function(){var l=b(this),k=l.closest("form");if(b.trim(k.find(".search_txt").val())){k.attr("action",l.attr("href"));k.submit()}return false});h.find(".search_txt,.txt_search").on("keydown",function(k){if(!b(this).val()&&k.keyCode===13){return false}});h.find(":submit").on("click",function(){var k=b(this).closest("form");if(!k.find("[name='q']").val()){return false}});if(b.browser.msie&&b.browser.version==="6.0"){h.find(".commodity_item").hover(function(){b(this).addClass("commodity_item_hover")},function(){b(this).removeClass("commodity_item_hover")})}else{j.on("scroll.showTopFixed",function(){var k=g.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0;if(k<=480){i.css({display:"none"})}else{i.css({display:"block"})}})}};e()});