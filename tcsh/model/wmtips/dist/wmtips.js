define(function(require,exports,module){require("../../wmtips/css/style.css");var c=require("http://s.tcsh.me/tcsh/model/lib/jquery/seajs-jquery-1.8.3.min.js"),b=require("http://s.tcsh.me/tcsh/model/lib/juicer/seajs-juicer-min.js");var a=function(j){var e=this;var h=c.extend({ele:"body",con:"",skin:"yellow1",width:"",height:"",close:false,offset:{},direction:"br",callBack:undefined,minIndex:2000},j);var d=b(['<div class="wm_tips ${skin} ${direction}" data-direction="${direction}" style="z-index:${minIndex}">','<div class="wm_tips_per ">','<div class="tips_arrow "><em>◆</em><span>◆</span></div>','<div class="wm_tips_con"></div>','<div class="close"><a href="#">×</a></div>',"</div>","</div>"].join(""));var g=function(){e.$this=c(h.ele);h.minIndex=h.minIndex+c(".wm_tips").length;e.$tipsBox=c(d.render(h));e.$tipsBox.on("click",".close",function(){e.hide();return false});e.$tipsCon=e.$tipsBox.find(".wm_tips_con");f=e.$tipsBox.find(".wm_tips_per");e.$tipsCon.empty().append(h.con);c("body").append(e.$tipsBox);e.position();typeof h.callBack==="function"&&h.callBack.call(e)};this.$tipsBox,this.$tipsCon,this.$this;this.isShow=false;var f,i=true;this.show=function(k){!e.$tipsBox&&g();if(!i){return}i=false;e.position();e.$tipsBox.fadeIn(function(){i=true});e.isShow=true;if(h.close){setTimeout(function(){e.hide()},h.close)}return e};this.hide=function(k){if(!i){return}i=false;e.$tipsBox.fadeOut(function(){i=true});e.isShow=false;return e};this.close=function(k){e.hide();e.$tipsBox.remove();e.$tipsBox=undefined;this.isShow=false;typeof k==="function"&&k.call(e);return e};this.position=function(n){var l=e.$this.offset(),k=e.$this.outerWidth(),m=e.$this.outerHeight(),r=e.$tipsBox.outerWidth(),q=e.$tipsBox.outerHeight();var p=n||e.$tipsBox.attr("data-direction");if(h.offset&&h.offset.top){l.top+=(h.offset.top-0||0)}if(h.offset&&h.offset.left){l.left+=(h.offset.left-0||0)}var o={br:{top:l.top+m,left:l.left+k-25},bc:{top:l.top+m,left:l.left+k/2-r/2},bl:{top:l.top+m,left:l.left-r+24},tr:{top:l.top-q,left:l.left+k-25},tc:{top:l.top-q,left:l.left+k/2-r/2},tl:{top:l.top-q,left:l.left-r+24},lt:{top:l.top-7,left:l.left-r-7},lc:{top:l.top-q/2+7,left:l.left-r-7},lb:{top:l.top-q+m+7,left:l.left-r-7},rt:{top:l.top-7,left:l.left+k-7},rc:{top:l.top-q/2+7,left:l.left+k+7},rb:{top:l.top-q+m+7,left:l.left+k+7}};if(o[p]){e.$tipsBox.css(o[p])}else{e.$tipsBox.addClass("br").attr("data-direction","br");e.$tipsBox.css(o.br)}return e};this.setCon=function(k,l){!e.$tipsBox&&g();e.$tipsCon.empty().append(k);typeof l==="function"&&l();return e};g()};return a});