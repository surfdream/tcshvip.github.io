define(function(require,exports,module){require("http://s.tcsh.me/tcsh/model/wmarea/css/style.css");var b=require("http://s.tcsh.me/tcsh/model/lib/jquery/seajs-jquery-1.8.3.min.js"),a=require("http://s.tcsh.me/tcsh/model/lib/juicer/seajs-juicer-min.js"),c=require("http://s.tcsh.me/tcsh/model/wmbox/dist/wmbox.js"),e=require("http://s.tcsh.me/tcsh/model/wmbank/dist/bank_data.js");require("http://s.tcsh.me/tcsh/model/wmbank/css/style.css#");var d=a(['<div class="boxbank_mian">','<div class="search_box">','检索： <input type="text" class="search_txt" />',"</div>",'<ul class="boxbank_list">',"{@each bankList as list}",'<li class="boxbank_item" title="${list.name}">','<input type="radio" value="${list.id}" data_name="${list.name}" name="boxbank" id="boxbank_${list.id}" class="rad_boxbank"><label for="boxbank_${list.id}" class="boxbank_name">${list.name}</label>',"</li>","{@/each}","</ul>","</div>"].join(""));var f=function(g){return c.alert({titleText:"银行选择",boxCls:"bank_dialog",content:d.render({bankList:e.getArrayData()}),btns:[{cls:"ui_btn_h46red8 chked_btn",res:"hide",text:"确定"},{cls:"alink",res:"hide",text:"取消"}],callback:function(){var h=this;var i=this.wmBox.find(".boxbank_list");this.wmBox.on("keyup",".search_txt",function(){var k=b(this),j=b.trim(k.val());if(j){i.find(".boxbank_item").addClass("hidden");i.find(".boxbank_item[title*='"+j+"']").removeClass("hidden");i.find(".boxbank_item:not(.hidden)").each(function(){var l=b(this);l.find("label").empty().append(l.attr("title").replace(j,"<b>"+j+"</b>"))})}else{i.find(".hidden").removeClass("hidden");i.find(".boxbank_item:not(.hidden)").each(function(){var l=b(this);l.find("label").empty().append(l.attr("title"))})}});this.close=function(){h.hide()};if(typeof g.radioChangeCallback==="function"){this.wmBox.find(".rad_boxbank").on("change",function(){g.radioChangeCallback.call(h)})}if(typeof g.chkedCallback==="function"){this.wmBox.find(".chked_btn").on("click",function(){var j=h.wmBox.find(".rad_boxbank:checked");h.val=j.val();h.name=j.attr("data_name");g.chkedCallback.call(h)})}h.checked=function(j){if(j-0){h.wmBox.find(".rad_boxbank").removeAttr("checked");h.wmBox.find("#boxbank_"+j).attr("checked","checked")}};typeof g.callback==="function"&&g.callback.call(h)}})};exports.Create=function(h){var g=b.extend({radioChangeCallback:null,chkedCallback:null},h);return f(g)}});